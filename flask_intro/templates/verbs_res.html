<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Вид', 'Количество глаголов'],
          ['Совершенный', {{sov}}],
          ['Несовершенный', {{nesov}}]
        ]);

        var options = {
          title: 'Соотношение глаголов по виду',
          pieHole: 0.4,
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>

    <title>Глаголы</title>
</head>
<body>
<div class="container">
<h4><a href="/">На главную</a></h4>
    <form method='post'>
        <h1>Новый текст:</h1>
        <textarea rows="8" cols="60" name="text">{{ input }}</textarea>
        <br>
        <input type="submit" value="Разобрать">
    </form>
    {% if text %}
        <h1>Исходный текст:</h1>
        <p class="result"><b>{{ result | safe}}</b></p>
    {% endif %}
        <h1>Информация о глаголах:</h1>
        <div id="donutchart" style="width: 700px; height: 400px;"></div>
        <p>Всего глаголов в тексте: {{verb_counter}}</p>
        <p>Доля глаголов в тексте: {{verb_counter/word_counter}}</p>
        <p>Количество глаголов несовершенного вида: {{nesov}}</p>
        <p>Количество глаголов совершенного вида: {{sov}}</p>
        <p>Количество непереходных глаголов: {{intrans}}</p>
        <p>Количество переходных глаголов: {{trans}}</p>
        <p>Все глаголы по убыванию частотности: {% for vb in verbs%} <br><i>{{vb}}</i> {%endfor%}</p>
</div>
</body>
</html>
